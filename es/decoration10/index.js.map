{"version":3,"file":"index.js","sources":["../../src/components/decoration10/index.js"],"sourcesContent":["import React, { useRef, useMemo, forwardRef } from 'react'\n\nimport PropTypes from 'prop-types'\n\nimport classnames from 'classnames'\n\nimport { deepMerge } from '@jiaminghi/charts/lib/util/index'\nimport { deepClone } from '@jiaminghi/c-render/lib/plugin/util'\n\nimport useAutoResize from '../../use/autoResize'\n\nimport { uuid } from '../../util'\n\nimport './style.less'\n\nconst defaultColor = ['#00c2ff', 'rgba(0, 194, 255, 0.3)']\n\nconst Decoration = forwardRef(({ className, style, color = [] }, ref) => {\n  const { width, height, domRef } = useAutoResize(ref)\n\n  const {\n    animationId1,\n    animationId2,\n    animationId3,\n    animationId4,\n    animationId5,\n    animationId6,\n    animationId7\n  } = useRef({\n    animationId1: `d10ani1${uuid()}`,\n    animationId2: `d10ani2${uuid()}`,\n    animationId3: `d10ani3${uuid()}`,\n    animationId4: `d10ani4${uuid()}`,\n    animationId5: `d10ani5${uuid()}`,\n    animationId6: `d10ani6${uuid()}`,\n    animationId7: `d10ani7${uuid()}`\n  }).current\n\n  const mergedColor = useMemo(() => deepMerge(deepClone(defaultColor, true), color || []), [color])\n\n  const classNames = useMemo(() => classnames('dv-decoration-10', className), [\n    className\n  ])\n\n  return (\n    <div className={classNames} style={style} ref={domRef}>\n      <svg width={width} height={height}>\n        <polyline\n          stroke={mergedColor[1]}\n          strokeWidth='2'\n          points={`0, ${height / 2} ${width}, ${height / 2}`}\n        />\n\n        <polyline\n          stroke={mergedColor[0]}\n          strokeWidth='2'\n          points={`5, ${height / 2} ${width * 0.2 - 3}, ${height / 2}`}\n          strokeDasharray={`0, ${width * 0.2}`}\n          fill='freeze'\n        >\n          <animate\n            id={animationId2}\n            attributeName='stroke-dasharray'\n            values={`0, ${width * 0.2};${width * 0.2}, 0;`}\n            dur='3s'\n            begin={`${animationId1}.end`}\n            fill='freeze'\n          />\n          <animate\n            attributeName='stroke-dasharray'\n            values={`${width * 0.2}, 0;0, ${width * 0.2}`}\n            dur='0.01s'\n            begin={`${animationId7}.end`}\n            fill='freeze'\n          />\n        </polyline>\n\n        <polyline\n          stroke={mergedColor[0]}\n          strokeWidth='2'\n          points={`${width * 0.2 + 3}, ${height / 2} ${width * 0.8 -\n            3}, ${height / 2}`}\n          strokeDasharray={`0, ${width * 0.6}`}\n        >\n          <animate\n            id={animationId4}\n            attributeName='stroke-dasharray'\n            values={`0, ${width * 0.6};${width * 0.6}, 0`}\n            dur='3s'\n            begin={`${animationId3}.end + 1s`}\n            fill='freeze'\n          />\n          <animate\n            attributeName='stroke-dasharray'\n            values={`${width * 0.6}, 0;0, ${width * 0.6}`}\n            dur='0.01s'\n            begin={`${animationId7}.end`}\n            fill='freeze'\n          />\n        </polyline>\n\n        <polyline\n          stroke={mergedColor[0]}\n          strokeWidth='2'\n          points={`${width * 0.8 + 3}, ${height / 2} ${width - 5}, ${height /\n            2}`}\n          strke-dasharray={`0, ${width * 0.2}`}\n        >\n          <animate\n            id={animationId6}\n            attributeName='stroke-dasharray'\n            values={`0, ${width * 0.2};${width * 0.2}, 0`}\n            dur='3s'\n            begin={`${animationId5}.end + 1s`}\n            fill='freeze'\n          />\n          <animate\n            attributeName='stroke-dasharray'\n            values={`${width * 0.2}, 0;0, ${width * 0.3}`}\n            dur='0.01s'\n            begin={`${animationId7}.end`}\n            fill='freeze'\n          />\n        </polyline>\n\n        <circle cx='2' cy={height / 2} r='2' fill={mergedColor[1]}>\n          <animate\n            id={animationId1}\n            attributeName='fill'\n            values={`${mergedColor[1]};${mergedColor[0]}`}\n            begin={`0s;${animationId7}.end`}\n            dur='0.3s'\n            fill='freeze'\n          />\n        </circle>\n\n        <circle cx={width * 0.2} cy={height / 2} r='2' fill={mergedColor[1]}>\n          <animate\n            id={animationId3}\n            attributeName='fill'\n            values={`${mergedColor[1]};${mergedColor[0]}`}\n            begin={`${animationId2}.end`}\n            dur='0.3s'\n            fill='freeze'\n          />\n          <animate\n            attributeName='fill'\n            values={`${mergedColor[1]};${mergedColor[1]}`}\n            dur='0.01s'\n            begin={`${animationId7}.end`}\n            fill='freeze'\n          />\n        </circle>\n\n        <circle cx={width * 0.8} cy={height / 2} r='2' fill={mergedColor[1]}>\n          <animate\n            id={animationId5}\n            attributeName='fill'\n            values={`${mergedColor[1]};${mergedColor[0]}`}\n            begin={`${animationId4}.end`}\n            dur='0.3s'\n            fill='freeze'\n          />\n          <animate\n            attributeName='fill'\n            values={`${mergedColor[1]};${mergedColor[1]}`}\n            dur='0.01s'\n            begin={`${animationId7}.end`}\n            fill='freeze'\n          />\n        </circle>\n\n        <circle cx={width - 2} cy={height / 2} r='2' fill={mergedColor[1]}>\n          <animate\n            id={animationId7}\n            attributeName='fill'\n            values={`${mergedColor[1]};${mergedColor[0]}`}\n            begin={`${animationId6}.end`}\n            dur='0.3s'\n            fill='freeze'\n          />\n          <animate\n            attributeName='fill'\n            values={`${mergedColor[1]};${mergedColor[1]}`}\n            dur='0.01s'\n            begin={`${animationId7}.end`}\n            fill='freeze'\n          />\n        </circle>\n      </svg>\n    </div>\n  )\n})\n\nDecoration.propTypes = {\n  className: PropTypes.string,\n  style: PropTypes.object,\n  color: PropTypes.array\n}\n\nexport default Decoration\n"],"names":["defaultColor","Decoration","forwardRef","ref","className","style","color","useAutoResize","width","height","domRef","useRef","animationId1","uuid","animationId2","animationId3","animationId4","animationId5","animationId6","animationId7","current","mergedColor","useMemo","deepMerge","deepClone","classNames","classnames","propTypes","PropTypes","string","object","array"],"mappings":";;;;;;;;;;;AAeA,IAAMA,eAAe,CAAC,SAAD,EAAY,wBAAZ,CAArB;;AAEA,IAAMC,aAAaC,WAAW,gBAAmCC,GAAnC,EAA2C;AAAA,MAAxCC,SAAwC,QAAxCA,SAAwC;AAAA,MAA7BC,KAA6B,QAA7BA,KAA6B;AAAA,wBAAtBC,KAAsB;AAAA,MAAtBA,KAAsB,8BAAd,EAAc;;AAAA,uBACrCC,cAAcJ,GAAd,CADqC;AAAA,MAC/DK,KAD+D,kBAC/DA,KAD+D;AAAA,MACxDC,MADwD,kBACxDA,MADwD;AAAA,MAChDC,MADgD,kBAChDA,MADgD;;AAAA,wBAWnEC,OAAO;AACTC,8BAAwBC,MADf;AAETC,8BAAwBD,MAFf;AAGTE,8BAAwBF,MAHf;AAITG,8BAAwBH,MAJf;AAKTI,8BAAwBJ,MALf;AAMTK,8BAAwBL,MANf;AAOTM,8BAAwBN;AAPf,GAAP,EAQDO,OAnBoE;AAAA,MAIrER,YAJqE,mBAIrEA,YAJqE;AAAA,MAKrEE,YALqE,mBAKrEA,YALqE;AAAA,MAMrEC,YANqE,mBAMrEA,YANqE;AAAA,MAOrEC,YAPqE,mBAOrEA,YAPqE;AAAA,MAQrEC,YARqE,mBAQrEA,YARqE;AAAA,MASrEC,YATqE,mBASrEA,YATqE;AAAA,MAUrEC,YAVqE,mBAUrEA,YAVqE;;;AAqBvE,MAAME,cAAcC,QAAQ;AAAA,WAAMC,OAAUC,OAAUxB,YAAV,EAAwB,IAAxB,CAAV,EAAyCM,SAAS,EAAlD,CAAN;AAAA,GAAR,EAAqE,CAACA,KAAD,CAArE,CAApB;;AAEA,MAAMmB,aAAaH,QAAQ;AAAA,WAAMI,WAAW,kBAAX,EAA+BtB,SAA/B,CAAN;AAAA,GAAR,EAAyD,CAC1EA,SAD0E,CAAzD,CAAnB;;AAIA,SACE;AAAA;AAAA,MAAK,WAAWqB,UAAhB,EAA4B,OAAOpB,KAAnC,EAA0C,KAAKK,MAA/C;AACE;AAAA;AAAA,QAAK,OAAOF,KAAZ,EAAmB,QAAQC,MAA3B;AACE;AACE,gBAAQY,YAAY,CAAZ,CADV;AAEE,qBAAY,GAFd;AAGE,wBAAcZ,SAAS,CAAvB,SAA4BD,KAA5B,UAAsCC,SAAS;AAHjD,QADF;AAOE;AAAA;AAAA;AACE,kBAAQY,YAAY,CAAZ,CADV;AAEE,uBAAY,GAFd;AAGE,0BAAcZ,SAAS,CAAvB,UAA4BD,QAAQ,GAAR,GAAc,CAA1C,WAAgDC,SAAS,CAH3D;AAIE,mCAAuBD,QAAQ,GAJjC;AAKE,gBAAK;AALP;AAOE;AACE,cAAIM,YADN;AAEE,yBAAc,kBAFhB;AAGE,0BAAcN,QAAQ,GAAtB,SAA6BA,QAAQ,GAArC,SAHF;AAIE,eAAI,IAJN;AAKE,iBAAUI,YAAV,SALF;AAME,gBAAK;AANP,UAPF;AAeE;AACE,yBAAc,kBADhB;AAEE,kBAAWJ,QAAQ,GAAnB,eAAgCA,QAAQ,GAF1C;AAGE,eAAI,OAHN;AAIE,iBAAUW,YAAV,SAJF;AAKE,gBAAK;AALP;AAfF,OAPF;AA+BE;AAAA;AAAA;AACE,kBAAQE,YAAY,CAAZ,CADV;AAEE,uBAAY,GAFd;AAGE,kBAAWb,QAAQ,GAAR,GAAc,CAAzB,UAA+BC,SAAS,CAAxC,UAA6CD,QAAQ,GAAR,GAC3C,CADF,WACQC,SAAS,CAJnB;AAKE,mCAAuBD,QAAQ;AALjC;AAOE;AACE,cAAIQ,YADN;AAEE,yBAAc,kBAFhB;AAGE,0BAAcR,QAAQ,GAAtB,SAA6BA,QAAQ,GAArC,QAHF;AAIE,eAAI,IAJN;AAKE,iBAAUO,YAAV,cALF;AAME,gBAAK;AANP,UAPF;AAeE;AACE,yBAAc,kBADhB;AAEE,kBAAWP,QAAQ,GAAnB,eAAgCA,QAAQ,GAF1C;AAGE,eAAI,OAHN;AAIE,iBAAUW,YAAV,SAJF;AAKE,gBAAK;AALP;AAfF,OA/BF;AAuDE;AAAA;AAAA;AACE,kBAAQE,YAAY,CAAZ,CADV;AAEE,uBAAY,GAFd;AAGE,kBAAWb,QAAQ,GAAR,GAAc,CAAzB,UAA+BC,SAAS,CAAxC,UAA6CD,QAAQ,CAArD,WAA2DC,SACzD,CAJJ;AAKE,qCAAuBD,QAAQ;AALjC;AAOE;AACE,cAAIU,YADN;AAEE,yBAAc,kBAFhB;AAGE,0BAAcV,QAAQ,GAAtB,SAA6BA,QAAQ,GAArC,QAHF;AAIE,eAAI,IAJN;AAKE,iBAAUS,YAAV,cALF;AAME,gBAAK;AANP,UAPF;AAeE;AACE,yBAAc,kBADhB;AAEE,kBAAWT,QAAQ,GAAnB,eAAgCA,QAAQ,GAF1C;AAGE,eAAI,OAHN;AAIE,iBAAUW,YAAV,SAJF;AAKE,gBAAK;AALP;AAfF,OAvDF;AA+EE;AAAA;AAAA,UAAQ,IAAG,GAAX,EAAe,IAAIV,SAAS,CAA5B,EAA+B,GAAE,GAAjC,EAAqC,MAAMY,YAAY,CAAZ,CAA3C;AACE;AACE,cAAIT,YADN;AAEE,yBAAc,MAFhB;AAGE,kBAAWS,YAAY,CAAZ,CAAX,SAA6BA,YAAY,CAAZ,CAH/B;AAIE,yBAAaF,YAAb,SAJF;AAKE,eAAI,MALN;AAME,gBAAK;AANP;AADF,OA/EF;AA0FE;AAAA;AAAA,UAAQ,IAAIX,QAAQ,GAApB,EAAyB,IAAIC,SAAS,CAAtC,EAAyC,GAAE,GAA3C,EAA+C,MAAMY,YAAY,CAAZ,CAArD;AACE;AACE,cAAIN,YADN;AAEE,yBAAc,MAFhB;AAGE,kBAAWM,YAAY,CAAZ,CAAX,SAA6BA,YAAY,CAAZ,CAH/B;AAIE,iBAAUP,YAAV,SAJF;AAKE,eAAI,MALN;AAME,gBAAK;AANP,UADF;AASE;AACE,yBAAc,MADhB;AAEE,kBAAWO,YAAY,CAAZ,CAAX,SAA6BA,YAAY,CAAZ,CAF/B;AAGE,eAAI,OAHN;AAIE,iBAAUF,YAAV,SAJF;AAKE,gBAAK;AALP;AATF,OA1FF;AA4GE;AAAA;AAAA,UAAQ,IAAIX,QAAQ,GAApB,EAAyB,IAAIC,SAAS,CAAtC,EAAyC,GAAE,GAA3C,EAA+C,MAAMY,YAAY,CAAZ,CAArD;AACE;AACE,cAAIJ,YADN;AAEE,yBAAc,MAFhB;AAGE,kBAAWI,YAAY,CAAZ,CAAX,SAA6BA,YAAY,CAAZ,CAH/B;AAIE,iBAAUL,YAAV,SAJF;AAKE,eAAI,MALN;AAME,gBAAK;AANP,UADF;AASE;AACE,yBAAc,MADhB;AAEE,kBAAWK,YAAY,CAAZ,CAAX,SAA6BA,YAAY,CAAZ,CAF/B;AAGE,eAAI,OAHN;AAIE,iBAAUF,YAAV,SAJF;AAKE,gBAAK;AALP;AATF,OA5GF;AA8HE;AAAA;AAAA,UAAQ,IAAIX,QAAQ,CAApB,EAAuB,IAAIC,SAAS,CAApC,EAAuC,GAAE,GAAzC,EAA6C,MAAMY,YAAY,CAAZ,CAAnD;AACE;AACE,cAAIF,YADN;AAEE,yBAAc,MAFhB;AAGE,kBAAWE,YAAY,CAAZ,CAAX,SAA6BA,YAAY,CAAZ,CAH/B;AAIE,iBAAUH,YAAV,SAJF;AAKE,eAAI,MALN;AAME,gBAAK;AANP,UADF;AASE;AACE,yBAAc,MADhB;AAEE,kBAAWG,YAAY,CAAZ,CAAX,SAA6BA,YAAY,CAAZ,CAF/B;AAGE,eAAI,OAHN;AAIE,iBAAUF,YAAV,SAJF;AAKE,gBAAK;AALP;AATF;AA9HF;AADF,GADF;AAoJD,CA/KkB,CAAnB;;AAiLAlB,WAAW0B,SAAX,GAAuB;AACrBvB,aAAWwB,UAAUC,MADA;AAErBxB,SAAOuB,UAAUE,MAFI;AAGrBxB,SAAOsB,UAAUG;AAHI,CAAvB;;;;"}