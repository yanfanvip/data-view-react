{"version":3,"file":"index-65ee9985.js","sources":["../src/util/index.js"],"sourcesContent":["export function randomExtend(minNum, maxNum) {\n  if (arguments.length === 1) {\n    return parseInt(Math.random() * minNum + 1, 10)\n  } else {\n    return parseInt(Math.random() * (maxNum - minNum + 1) + minNum, 10)\n  }\n}\n\n/**\n * @description                       将函数转成防抖动函数\n * @param  {Function}                 需要转成防抖动函数的函数\n * @param  {number}                   延迟时间（毫秒数）\n * @param  {boolean}                  是否执行第一次\n * @return {undefined}                无返回值\n */\nexport function debounce(fn, delay = 600, runFirstFn = true) {\n  let timer = null\n\n  return function(...rest) {\n    // 清除定时器\n    clearTimeout(timer)\n    if (runFirstFn) {\n      fn.apply(this, rest)\n      runFirstFn = false\n      return\n    }\n\n    // 设置定时器\n    timer = setTimeout(fn.bind(this, ...rest), delay)\n  }\n}\n\nexport function observerDomResize(dom, callback) {\n  const MutationObserver =\n    window.MutationObserver ||\n    window.WebKitMutationObserver ||\n    window.MozMutationObserver\n\n  const observer = new MutationObserver(callback)\n\n  observer.observe(dom, {\n    attributes: true,\n    attributeFilter: ['style'],\n    attributeOldValue: true\n  })\n\n  return observer\n}\n\nexport function getPointDistance(pointOne, pointTwo) {\n  const minusX = Math.abs(pointOne[0] - pointTwo[0])\n\n  const minusY = Math.abs(pointOne[1] - pointTwo[1])\n\n  return Math.sqrt(minusX * minusX + minusY * minusY)\n}\n\nexport function co(gen) {\n  let destroyed = false\n\n  // 处理 return 之后 resume 的问题\n  let stop = false\n\n  let val = null\n\n  if (typeof gen === 'function') gen = gen()\n\n  if (!gen || typeof gen.next !== 'function') return () => ({})\n\n  Promise.resolve().then(() => {\n    destroyed || next(gen.next())\n  })\n\n  return {\n    end () {\n      destroyed = true\n\n      Promise.resolve().then(() => {\n        gen.return()\n\n        gen = null\n      })\n    },\n    pause () {\n      if (!destroyed) { stop = true }\n    },\n    resume () {\n      const oldVal = val\n\n      if (!destroyed && stop) {\n        stop = false\n\n        Promise.resolve(val).then(function () {\n          if (!destroyed && !stop && oldVal === val) { next(gen.next()) }\n        })\n      }\n    }\n  }\n\n  function next(ret) {\n    if (ret.done) return ret.value\n\n    val = ret.value\n\n    return Promise.resolve(ret.value).then(() => {\n      (!destroyed && !stop) && next(gen.next())\n    })\n  }\n}\n\nexport function uuid (hasHyphen) {\n  return (hasHyphen ? 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx' : 'xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx').replace(/[xy]/g, function (c) {\n    const r = Math.random() * 16 | 0\n    const v = c === 'x' ? r : (r & 0x3 | 0x8)\n    return v.toString(16)\n  })\n}\n"],"names":["randomExtend","minNum","maxNum","arguments","length","parseInt","Math","random","debounce","fn","delay","runFirstFn","timer","clearTimeout","rest","apply","setTimeout","bind","observerDomResize","dom","callback","MutationObserver","window","WebKitMutationObserver","MozMutationObserver","observer","observe","attributes","attributeFilter","attributeOldValue","getPointDistance","pointOne","pointTwo","minusX","abs","minusY","sqrt","co","gen","destroyed","stop","val","next","Promise","resolve","then","end","return","pause","resume","oldVal","ret","done","value","uuid","hasHyphen","replace","c","r","v","toString"],"mappings":"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"}