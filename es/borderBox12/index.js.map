{"version":3,"file":"index.js","sources":["../../src/components/borderBox12/index.js"],"sourcesContent":["import React, { useMemo, useRef, forwardRef } from 'react'\n\nimport PropTypes from 'prop-types'\n\nimport classnames from 'classnames'\n\nimport { deepMerge } from '@jiaminghi/charts/lib/util/index'\nimport { deepClone } from '@jiaminghi/c-render/lib/plugin/util'\nimport { fade } from '@jiaminghi/color'\n\nimport useAutoResize from '../../use/autoResize'\n\nimport { uuid } from '../../util'\n\nimport './style.less'\n\nconst defaultColor = ['#2e6099', '#7ce7fd']\n\nconst BorderBox = forwardRef(({ children, className, style, color = [], backgroundColor = 'transparent' }, ref) => {\n  const filterId = useRef(`border-box-12-filterId-${uuid()}`).current\n\n  const { width, height, domRef } = useAutoResize(ref)\n\n  const mergedColor = useMemo(() => deepMerge(deepClone(defaultColor, true), color || []), [color])\n\n  const classNames = useMemo(() => classnames('dv-border-box-12', className), [\n    className\n  ])\n\n  return (\n    <div className={classNames} style={style} ref={domRef}>\n      <svg className='dv-border-svg-container' width={width} height={height}>\n        <defs>\n          <filter id={filterId} height='150%' width='150%' x='-25%' y='-25%'>\n            <feMorphology operator='dilate' radius='1' in='SourceAlpha' result='thicken' />\n            <feGaussianBlur in='thicken' stdDeviation='2' result='blurred' />\n            <feFlood floodColor={fade(mergedColor[1] || defaultColor[1], 70)} result='glowColor'>\n              <animate\n                attributeName='flood-color'\n                values={`\n                ${fade(mergedColor[1] || defaultColor[1], 70)};\n                ${fade(mergedColor[1] || defaultColor[1], 30)};\n                ${fade(mergedColor[1] || defaultColor[1], 70)};\n              `}\n                dur='3s'\n                begin='0s'\n                repeatCount='indefinite'\n              />\n            </feFlood>\n            <feComposite in='glowColor' in2='blurred' operator='in' result='softGlowColored' />\n            <feMerge>\n              <feMergeNode in='softGlowColored' />\n              <feMergeNode in='SourceGraphic' />\n            </feMerge>\n          </filter>\n        </defs>\n\n        {\n          width && height &&\n          <path\n            fill={backgroundColor}\n            strokeWidth='2'\n            stroke={mergedColor[0]}\n            d={`\n            M15 5 L ${width - 15} 5 Q ${width - 5} 5, ${width - 5} 15\n            L ${width - 5} ${height - 15} Q ${width - 5} ${height - 5}, ${width - 15} ${height - 5}\n            L 15, ${height - 5} Q 5 ${height - 5} 5 ${height - 15} L 5 15\n            Q 5 5 15 5\n          `}\n          />\n        }\n\n        <path\n          strokeWidth='2'\n          fill='transparent'\n          strokeLinecap='round'\n          filter={`url(#${filterId})`}\n          stroke={mergedColor[1]}\n          d={`M 20 5 L 15 5 Q 5 5 5 15 L 5 20`}\n        />\n\n        <path\n          strokeWidth='2'\n          fill='transparent'\n          strokeLinecap='round'\n          filter={`url(#${filterId})`}\n          stroke={mergedColor[1]}\n          d={`M ${width - 20} 5 L ${width - 15} 5 Q ${width - 5} 5 ${width - 5} 15 L ${width - 5} 20`}\n        />\n\n        <path\n          strokeWidth='2'\n          fill='transparent'\n          strokeLinecap='round'\n          filter={`url(#${filterId})`}\n          stroke={mergedColor[1]}\n          d={`\n          M ${width - 20} ${height - 5} L ${width - 15} ${height - 5}\n          Q ${width - 5} ${height - 5} ${width - 5} ${height - 15}\n          L ${width - 5} ${height - 20}\n        `}\n        />\n\n        <path\n          strokeWidth='2'\n          fill='transparent'\n          strokeLinecap='round'\n          filter={`url(#${filterId})`}\n          stroke={mergedColor[1]}\n          d={`\n          M 20 ${height - 5} L 15 ${height - 5}\n          Q 5 ${height - 5} 5 ${height - 15}\n          L 5 ${height - 20}\n        `}\n        />\n      </svg>\n      <div className='border-box-content'>\n        {children}\n      </div>\n    </div>\n  )\n})\n\nBorderBox.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n  style: PropTypes.object,\n  color: PropTypes.array,\n  backgroundColor: PropTypes.string\n}\n\nexport default BorderBox\n"],"names":["defaultColor","BorderBox","forwardRef","ref","children","className","style","color","backgroundColor","filterId","useRef","uuid","current","useAutoResize","width","height","domRef","mergedColor","useMemo","deepMerge","deepClone","classNames","classnames","fade","propTypes","PropTypes","node","string","object","array"],"mappings":"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"}