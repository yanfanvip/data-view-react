{"version":3,"file":"index.js","sources":["../../src/components/decoration8/index.js"],"sourcesContent":["import React, { useMemo, forwardRef } from 'react'\n\nimport PropTypes from 'prop-types'\n\nimport classnames from 'classnames'\n\nimport { deepMerge } from '@jiaminghi/charts/lib/util'\n\nimport { deepClone } from '@jiaminghi/c-render/lib/plugin/util'\n\nimport useAutoResize from '../../use/autoResize'\n\nimport './style.less'\n\nconst defaultColor = ['#3f96a5', '#3f96a5']\n\nconst Decoration = forwardRef(({ reverse = false, className, style, color = [] }, ref) => {\n  const { width, height, domRef } = useAutoResize(ref)\n\n  const xPos = pos => (!reverse ? pos : width - pos)\n\n  const mergedColor = useMemo(() => deepMerge(deepClone(defaultColor, true), color || []), [color])\n\n  const [pointsOne, pointsTwo, pointsThree] = useMemo(\n    () => [\n      `${xPos(0)}, 0 ${xPos(30)}, ${height / 2}`,\n      `${xPos(20)}, 0 ${xPos(50)}, ${height / 2} ${xPos(width)}, ${height / 2}`,\n      `${xPos(0)}, ${height - 3}, ${xPos(200)}, ${height - 3}`\n    ],\n    [reverse, width, height]\n  )\n\n  const classNames = useMemo(() => classnames('dv-decoration-8', className), [\n    className\n  ])\n\n  return (\n    <div className={classNames} style={style} ref={domRef}>\n      <svg width={width} height={height}>\n        <polyline\n          stroke={mergedColor[0]}\n          strokeWidth='2'\n          fill='transparent'\n          points={pointsOne}\n        />\n\n        <polyline\n          stroke={mergedColor[0]}\n          strokeWidth='2'\n          fill='transparent'\n          points={pointsTwo}\n        />\n\n        <polyline\n          stroke={mergedColor[1]}\n          fill='transparent'\n          strokeWidth='3'\n          points={pointsThree}\n        />\n      </svg>\n    </div>\n  )\n})\n\nDecoration.propTypes = {\n  reverse: PropTypes.bool,\n  className: PropTypes.string,\n  style: PropTypes.object,\n  color: PropTypes.array\n}\n\n// 指定 props 的默认值：\nDecoration.defaultProps = {\n  reverse: false\n}\n\nexport default Decoration\n"],"names":["defaultColor","Decoration","forwardRef","ref","reverse","className","style","color","useAutoResize","width","height","domRef","xPos","pos","mergedColor","useMemo","deepMerge","deepClone","pointsOne","pointsTwo","pointsThree","classNames","classnames","React","propTypes","PropTypes","bool","string","object","array","defaultProps"],"mappings":";;;;;;;;;;;;;;;;AAcA,IAAMA,eAAe,CAAC,SAAD,EAAY,SAAZ,CAArB;;AAEA,IAAMC,aAAaC,iBAAW,gBAAoDC,GAApD,EAA4D;AAAA,0BAAzDC,OAAyD;AAAA,MAAzDA,OAAyD,gCAA/C,KAA+C;AAAA,MAAxCC,SAAwC,QAAxCA,SAAwC;AAAA,MAA7BC,KAA6B,QAA7BA,KAA6B;AAAA,wBAAtBC,KAAsB;AAAA,MAAtBA,KAAsB,8BAAd,EAAc;;AAAA,uBACtDC,yBAAcL,GAAd,CADsD;AAAA,MAChFM,KADgF,kBAChFA,KADgF;AAAA,MACzEC,MADyE,kBACzEA,MADyE;AAAA,MACjEC,MADiE,kBACjEA,MADiE;;AAGxF,MAAMC,OAAO,SAAPA,IAAO;AAAA,WAAQ,CAACR,OAAD,GAAWS,GAAX,GAAiBJ,QAAQI,GAAjC;AAAA,GAAb;;AAEA,MAAMC,cAAcC,cAAQ;AAAA,WAAMC,eAAUC,eAAUjB,YAAV,EAAwB,IAAxB,CAAV,EAAyCO,SAAS,EAAlD,CAAN;AAAA,GAAR,EAAqE,CAACA,KAAD,CAArE,CAApB;;AALwF,iBAO5CQ,cAC1C;AAAA,WAAM,CACDH,KAAK,CAAL,CADC,YACaA,KAAK,EAAL,CADb,UAC0BF,SAAS,CADnC,EAEDE,KAAK,EAAL,CAFC,YAEcA,KAAK,EAAL,CAFd,UAE2BF,SAAS,CAFpC,SAEyCE,KAAKH,KAAL,CAFzC,UAEyDC,SAAS,CAFlE,EAGDE,KAAK,CAAL,CAHC,WAGWF,SAAS,CAHpB,WAG0BE,KAAK,GAAL,CAH1B,WAGwCF,SAAS,CAHjD,EAAN;AAAA,GAD0C,EAM1C,CAACN,OAAD,EAAUK,KAAV,EAAiBC,MAAjB,CAN0C,CAP4C;AAAA;AAAA,MAOjFQ,SAPiF;AAAA,MAOtEC,SAPsE;AAAA,MAO3DC,WAP2D;;AAgBxF,MAAMC,aAAaN,cAAQ;AAAA,WAAMO,mBAAW,iBAAX,EAA8BjB,SAA9B,CAAN;AAAA,GAAR,EAAwD,CACzEA,SADyE,CAAxD,CAAnB;;AAIA,SACEkB;AAAA;AAAA,MAAK,WAAWF,UAAhB,EAA4B,OAAOf,KAAnC,EAA0C,KAAKK,MAA/C;AACE;AAAA;AAAA,QAAK,OAAOF,KAAZ,EAAmB,QAAQC,MAA3B;AACE;AACE,gBAAQI,YAAY,CAAZ,CADV;AAEE,qBAAY,GAFd;AAGE,cAAK,aAHP;AAIE,gBAAQI;AAJV,QADF;AAQE;AACE,gBAAQJ,YAAY,CAAZ,CADV;AAEE,qBAAY,GAFd;AAGE,cAAK,aAHP;AAIE,gBAAQK;AAJV,QARF;AAeE;AACE,gBAAQL,YAAY,CAAZ,CADV;AAEE,cAAK,aAFP;AAGE,qBAAY,GAHd;AAIE,gBAAQM;AAJV;AAfF;AADF,GADF;AA0BD,CA9CkB,CAAnB;;AAgDAnB,WAAWuB,SAAX,GAAuB;AACrBpB,WAASqB,yBAAUC,IADE;AAErBrB,aAAWoB,yBAAUE,MAFA;AAGrBrB,SAAOmB,yBAAUG,MAHI;AAIrBrB,SAAOkB,yBAAUI;;AAGnB;AAPuB,CAAvB,CAQA5B,WAAW6B,YAAX,GAA0B;AACxB1B,WAAS;AADe,CAA1B;;;;"}