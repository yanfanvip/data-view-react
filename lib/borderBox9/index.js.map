{"version":3,"file":"index.js","sources":["../../src/components/borderBox9/index.js"],"sourcesContent":["import React, { useState, useMemo, forwardRef } from 'react'\n\nimport PropTypes from 'prop-types'\n\nimport classnames from 'classnames'\n\nimport { deepMerge } from '@jiaminghi/charts/lib/util/index'\nimport { deepClone } from '@jiaminghi/c-render/lib/plugin/util'\n\nimport useAutoResize from '../../use/autoResize'\n\nimport { uuid } from '../../util'\n\nimport './style.less'\n\nconst defaultColor = ['#11eefd', '#0078d2']\n\nconst BorderBox = forwardRef(({ children, className, style, color = [], backgroundColor = 'transparent' }, ref) => {\n  const { width, height, domRef } = useAutoResize(ref)\n\n  const [{ gradientId, maskId }] = useState(() => {\n    const id = uuid()\n\n    return {\n      gradientId: `border-box-9-gradient-${id}`,\n      maskId: `border-box-9-mask-${id}`\n    }\n  })\n\n  const mergedColor = useMemo(() => deepMerge(deepClone(defaultColor, true), color || []), [color])\n\n  const classNames = useMemo(() => classnames('dv-border-box-9', className), [\n    className\n  ])\n\n  return (\n    <div className={classNames} style={style} ref={domRef}>\n      <svg className='dv-border-svg-container' width={width} height={height}>\n        <defs>\n          <linearGradient id={gradientId} x1='0%' y1='0%' x2='100%' y2='100%'>\n            <animate\n              attributeName='x1'\n              values='0%;100%;0%'\n              dur='10s'\n              begin='0s'\n              repeatCount='indefinite'\n            />\n            <animate\n              attributeName='x2'\n              values='100%;0%;100%'\n              dur='10s'\n              begin='0s'\n              repeatCount='indefinite'\n            />\n            <stop offset='0%' stopColor={mergedColor[0]}>\n              <animate\n                attributeName='stop-color'\n                values={`${mergedColor[0]};${mergedColor[1]};${mergedColor[0]}`}\n                dur='10s'\n                begin='0s'\n                repeatCount='indefinite'\n              />\n            </stop>\n            <stop offset='100%' stopColor={mergedColor[1]}>\n              <animate\n                attributeName='stop-color'\n                values={`${mergedColor[1]};${mergedColor[0]};${mergedColor[1]}`}\n                dur='10s'\n                begin='0s'\n                repeatCount='indefinite'\n              />\n            </stop>\n          </linearGradient>\n\n          <mask id={maskId}>\n            <polyline\n              stroke='#fff'\n              strokeWidth='3'\n              fill='transparent'\n              points={`8, ${height * 0.4} 8, 3, ${width * 0.4 + 7}, 3`}\n            />\n            <polyline\n              fill='#fff'\n              points={`8, ${height * 0.15} 8, 3, ${width * 0.1 + 7}, 3\n                ${width * 0.1}, 8 14, 8 14, ${height * 0.15 - 7}\n              `}\n            />\n\n            <polyline\n              stroke='#fff'\n              strokeWidth='3'\n              fill='transparent'\n              points={`${width * 0.5}, 3 ${width - 3}, 3, ${width -\n                3}, ${height * 0.25}`}\n            />\n            <polyline\n              fill='#fff'\n              points={`\n                ${width * 0.52}, 3 ${width * 0.58}, 3\n                ${width * 0.58 - 7}, 9 ${width * 0.52 + 7}, 9\n              `}\n            />\n            <polyline\n              fill='#fff'\n              points={`\n                ${width * 0.9}, 3 ${width - 3}, 3 ${width - 3}, ${height * 0.1}\n                ${width - 9}, ${height * 0.1 - 7} ${width - 9}, 9 ${width *\n                0.9 +\n                7}, 9\n              `}\n            />\n\n            <polyline\n              stroke='#fff'\n              strokeWidth='3'\n              fill='transparent'\n              points={`8, ${height * 0.5} 8, ${height - 3} ${width * 0.3 +\n                7}, ${height - 3}`}\n            />\n            <polyline\n              fill='#fff'\n              points={`\n                8, ${height * 0.55} 8, ${height * 0.7}\n                2, ${height * 0.7 - 7} 2, ${height * 0.55 + 7}\n              `}\n            />\n\n            <polyline\n              stroke='#fff'\n              strokeWidth='3'\n              fill='transparent'\n              points={`${width * 0.35}, ${height - 3} ${width - 3}, ${height -\n                3} ${width - 3}, ${height * 0.35}`}\n            />\n            <polyline\n              fill='#fff'\n              points={`\n                ${width * 0.92}, ${height - 3} ${width - 3}, ${height -\n                3} ${width - 3}, ${height * 0.8}\n                ${width - 9}, ${height * 0.8 + 7} ${width - 9}, ${height -\n                9} ${width * 0.92 + 7}, ${height - 9}\n              `}\n            />\n          </mask>\n        </defs>\n\n        <polygon fill={backgroundColor} points={`\n          15, 9 ${width * 0.1 + 1}, 9 ${width * 0.1 + 4}, 6 ${width * 0.52 + 2}, 6\n          ${width * 0.52 + 6}, 10 ${width * 0.58 - 7}, 10 ${width * 0.58 - 2}, 6\n          ${width * 0.9 + 2}, 6 ${width * 0.9 + 6}, 10 ${width - 10}, 10 ${width - 10}, ${height * 0.1 - 6}\n          ${width - 6}, ${height * 0.1 - 1} ${width - 6}, ${height * 0.8 + 1} ${width - 10}, ${height * 0.8 + 6}\n          ${width - 10}, ${height - 10} ${width * 0.92 + 7}, ${height - 10}  ${width * 0.92 + 2}, ${height - 6}\n          11, ${height - 6} 11, ${height * 0.15 - 2} 15, ${height * 0.15 - 7}\n        `} />\n\n        <rect\n          x='0'\n          y='0'\n          width={width}\n          height={height}\n          fill={`url(#${gradientId})`}\n          mask={`url(#${maskId})`}\n        />\n      </svg>\n\n      <div className='border-box-content'>{children}</div>\n    </div>\n  )\n})\n\nBorderBox.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n  style: PropTypes.object,\n  color: PropTypes.array,\n  backgroundColor: PropTypes.string\n}\n\nexport default BorderBox\n"],"names":["defaultColor","BorderBox","forwardRef","ref","children","className","style","color","backgroundColor","useAutoResize","width","height","domRef","useState","id","uuid","gradientId","maskId","mergedColor","useMemo","deepMerge","deepClone","classNames","classnames","React","propTypes","PropTypes","node","string","object","array"],"mappings":"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"}