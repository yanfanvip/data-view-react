{"version":3,"file":"index.js","sources":["../../src/components/borderBox7/index.js"],"sourcesContent":["import React, { useMemo, forwardRef } from 'react'\n\nimport PropTypes from 'prop-types'\n\nimport classnames from 'classnames'\n\nimport { deepMerge } from '@jiaminghi/charts/lib/util/index'\nimport { deepClone } from '@jiaminghi/c-render/lib/plugin/util'\n\nimport useAutoResize from '../../use/autoResize'\n\nimport './style.less'\n\nconst defaultColor = ['rgba(128,128,128,0.3)', 'rgba(128,128,128,0.5)']\n\nconst BorderBox = forwardRef(({ children, className, style, color = [], backgroundColor = 'transparent' }, ref) => {\n  const { width, height, domRef } = useAutoResize(ref)\n\n  const mergedColor = useMemo(() => deepMerge(deepClone(defaultColor, true), color || []), [color])\n\n  const classNames = useMemo(() => classnames('dv-border-box-7', className), [\n    className\n  ])\n\n  const styles = useMemo(() => ({\n    boxShadow: `inset 0 0 40px ${mergedColor[0]}`,\n    border: `1px solid ${mergedColor[0]}`,\n    backgroundColor,\n    ...style\n  }), [style, mergedColor, backgroundColor])\n\n  return (\n    <div className={classNames} style={styles} ref={domRef}>\n      <svg className='dv-border-svg-container' width={width} height={height}>\n        <polyline className='dv-bb7-line-width-2' stroke={mergedColor[0]} points={`0, 25 0, 0 25, 0`} />\n        <polyline\n          className='dv-bb7-line-width-2'\n          stroke={mergedColor[0]}\n          points={`${width - 25}, 0 ${width}, 0 ${width}, 25`}\n        />\n        <polyline\n          className='dv-bb7-line-width-2'\n          stroke={mergedColor[0]}\n          points={`${width -\n            25}, ${height} ${width}, ${height} ${width}, ${height - 25}`}\n        />\n        <polyline\n          className='dv-bb7-line-width-2'\n          stroke={mergedColor[0]}\n          points={`0, ${height - 25} 0, ${height} 25, ${height}`}\n        />\n        <polyline className='dv-bb7-line-width-5' stroke={mergedColor[1]} points={`0, 10 0, 0 10, 0`} />\n        <polyline\n          className='dv-bb7-line-width-5'\n          stroke={mergedColor[1]}\n          points={`${width - 10}, 0 ${width}, 0 ${width}, 10`}\n        />\n        <polyline\n          className='dv-bb7-line-width-5'\n          stroke={mergedColor[1]}\n          points={`${width -\n            10}, ${height} ${width}, ${height} ${width}, ${height - 10}`}\n        />\n        <polyline\n          className='dv-bb7-line-width-5'\n          stroke={mergedColor[1]}\n          points={`0, ${height - 10} 0, ${height} 10, ${height}`}\n        />\n      </svg>\n\n      <div className='border-box-content'>{children}</div>\n    </div>\n  )\n})\n\nBorderBox.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n  style: PropTypes.object,\n  color: PropTypes.array,\n  backgroundColor: PropTypes.string\n}\n\nexport default BorderBox\n"],"names":["defaultColor","BorderBox","forwardRef","ref","children","className","style","color","backgroundColor","useAutoResize","width","height","domRef","mergedColor","useMemo","deepMerge","deepClone","classNames","classnames","styles","boxShadow","border","React","propTypes","PropTypes","node","string","object","array"],"mappings":"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"}